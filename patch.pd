#N canvas 1073 167 217 347 12;
#X obj 31 256 *~;
#X obj 52 236 hsl 128 15 0.1 10 1 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7100 1;
#X obj 31 300 dac~ 1 2 3 4;
#N canvas 312 264 822 404 reverb 0;
#X obj 159 244 freeverb~;
#X obj 347 71 hsl 128 15 0 1 0 0 empty reverb empty -2 -8 0 10 -262144
-1 -1 11300 1;
#X obj 266 221 line~;
#X obj 266 244 expr~ 1-$v1;
#X obj 159 267 *~;
#X obj 248 267 *~;
#X msg 75 177 roomsize \$1;
#X text 378 48 reverb;
#X msg 266 198 \$1 20;
#X obj 159 290 lop~ 600;
#X obj 346 90 expr 0.0067*(exp(5*$f1)-1)*0.6+0.38;
#X obj 213 53 inlet~;
#X text 350 166 Here we can tweak the dry/wet amount of the reverb
using one parameter;
#X obj 219 335 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 9 0;
#X connect 5 0 13 0;
#X connect 6 0 0 0;
#X connect 8 0 2 0;
#X connect 9 0 13 0;
#X connect 10 0 8 0;
#X connect 10 0 6 0;
#X connect 11 0 0 0;
#X connect 11 0 5 0;
#X restore 31 189 pd reverb;
#N canvas 270 119 357 270 noise 0;
#X obj 25 49 pink~;
#X obj 25 141 vcf~;
#X obj 25 164 *~;
#X msg 178 134 \$1 5;
#X obj 178 157 line~;
#X msg 50 118 300;
#X obj 181 91 hsl 128 15 0 1 0 0 empty noise empty -2 -8 0 10 -262144
-1 -1 3740 1;
#X obj 50 95 loadbang;
#X obj 178 180 expr~ 1-$v1/50;
#X obj 80 199 *~;
#X text 226 69 noise;
#X obj 178 111 * 100;
#X obj 37 72 r frequency;
#X obj 80 176 inlet~;
#X obj 80 222 outlet~;
#X text 24 24 Here we create pink noise and tweak the dry/wet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 4 0 8 0;
#X connect 5 0 1 2;
#X connect 6 0 11 0;
#X connect 7 0 5 0;
#X connect 8 0 9 1;
#X connect 9 0 14 0;
#X connect 11 0 3 0;
#X connect 12 0 1 1;
#X connect 13 0 9 0;
#X restore 31 143 pd noise;
#N canvas 522 206 428 340 synth 0;
#X obj 111 219 hsl 128 15 0 1 0 0 empty harshness empty -2 -8 0 10
-262144 -1 -1 8900 1;
#X obj 39 271 vcf~;
#X obj 97 179 *~;
#X obj 115 134 osc~;
#X obj 262 76 hsl 128 15 0 1 0 0 empty vibrato empty -2 -8 0 10 -262144
-1 -1 12500 1;
#X obj 115 111 expr log(1+$f1)*15;
#X text 298 57 vibrato;
#X obj 115 157 expr~ 1+($v1+1)/2*$f2;
#X obj 108 239 expr 1+(1-$f1)*10;
#X obj 39 179 phasor~;
#X text 145 200 harshness;
#X obj 39 78 r frequency;
#X obj 39 294 outlet~;
#X text 39 29 This subpatch generates the sound and filters it (subtractive
synthesis);
#X connect 0 0 8 0;
#X connect 1 0 12 0;
#X connect 2 0 1 1;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 4 0 7 1;
#X connect 5 0 3 0;
#X connect 7 0 2 1;
#X connect 8 0 1 2;
#X connect 9 0 1 0;
#X connect 11 0 9 0;
#X connect 11 0 2 0;
#X restore 31 120 pd synth;
#N canvas 257 121 480 330 volume 0;
#X obj 79 259 *~;
#X obj 91 140 clip 0 1;
#X text 246 76 volume;
#X obj 208 96 hsl 128 15 0 1 0 0 empty volume empty -2 -8 0 10 -262144
-1 -1 8760 1;
#X obj 148 224 *~;
#X msg 205 139 \$1 5;
#X obj 205 162 line~;
#X obj 205 117 expr log(1+$f1)*4;
#X obj 91 186 line~;
#X msg 91 163 \$1 10;
#X obj 91 117 expr $f1*30-0.5;
#X obj 40 186 inlet~;
#X obj 91 94 r volumedb;
#X obj 79 282 outlet~;
#X text 41 39 This one multiplies the volume info coming from both
the microphone and the trill sensor;
#X connect 0 0 13 0;
#X connect 1 0 9 0;
#X connect 3 0 7 0;
#X connect 4 0 0 1;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 5 0;
#X connect 8 0 4 0;
#X connect 9 0 8 0;
#X connect 10 0 1 0;
#X connect 11 0 0 0;
#X connect 12 0 10 0;
#X restore 31 166 pd volume;
#N canvas 0 23 645 293 microphone 0;
#X obj 148 181 mtof;
#X text 27 113 pitch detection;
#X obj 148 135 moses 30;
#X obj 346 112 env~;
#X obj 346 135 dbtorms;
#X obj 148 227 line;
#X msg 148 204 \$1 10;
#X obj 148 89 hip~ 100;
#X obj 346 89 lop~ 200;
#X obj 148 112 sigmund~ -hop 1024 pitch;
#X obj 148 158 + 12;
#X obj 148 250 s frequency;
#X obj 346 158 s volumedb;
#X text 400 110 rms detection;
#X text 218 202 This subpatch extract frequency and rms from an incoming
audio signal;
#X obj 268 28 inlet~;
#X connect 0 0 6 0;
#X connect 2 1 10 0;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 9 0;
#X connect 8 0 3 0;
#X connect 9 0 2 0;
#X connect 10 0 0 0;
#X connect 15 0 7 0;
#X connect 15 0 8 0;
#X restore 31 51 pd microphone;
#N canvas 68 357 533 393 sensor 0;
#X obj 365 239 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 12500 1;
#X obj 38 40 ctlin;
#X obj 361 195 line;
#X obj 38 63 pack f f;
#X msg 38 86 \$2 \$1;
#X obj 38 109 route 0 1;
#X obj 38 196 line;
#X obj 42 233 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 8900 1;
#X text 105 209 pressure;
#X text 445 218 speed;
#X msg 361 172 \$1 100;
#X msg 38 173 \$1 100;
#X obj 201 346 ctlout;
#X obj 185 287 t f b;
#X msg 204 310 1;
#X obj 244 287 t f b;
#X msg 263 310 2;
#X obj 39 253 / 127;
#X obj 362 259 / 127;
#X obj 362 282 s speed;
#X text 256 347 for the LEDs;
#X text 147 81 This one communicates with the feather in MIDI;
#X obj 39 276 s pressure;
#X connect 0 0 15 0;
#X connect 0 0 18 0;
#X connect 1 0 3 0;
#X connect 1 1 3 1;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 5 1 10 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 7 0 17 0;
#X connect 10 0 2 0;
#X connect 11 0 6 0;
#X connect 13 0 12 0;
#X connect 13 1 14 0;
#X connect 14 0 12 1;
#X connect 15 0 12 0;
#X connect 15 1 16 0;
#X connect 16 0 12 1;
#X connect 17 0 22 0;
#X connect 18 0 19 0;
#X restore 31 74 pd sensor;
#N canvas 587 486 918 439 mapping 0;
#X obj 682 288 s vibrato;
#X obj 372 157 s noise;
#X obj 364 383 s volume;
#X obj 105 296 s harshness;
#X obj 373 254 s reverb;
#X obj 447 190 t b f;
#X obj 403 308 t b f;
#X obj 354 114 expr (1-$f1)*$f2;
#X obj 392 84 t b f;
#X obj 358 222 expr ($f1+2*$f2)/3;
#X obj 351 343 expr $f1*$f2;
#X obj 40 40 r pressure;
#X obj 824 43 r speed;
#X text 259 42 I think this one speaks for itself...;
#X connect 5 0 9 0;
#X connect 5 1 9 1;
#X connect 6 0 10 0;
#X connect 6 1 10 1;
#X connect 7 0 1 0;
#X connect 8 0 7 0;
#X connect 8 1 7 1;
#X connect 9 0 4 0;
#X connect 10 0 2 0;
#X connect 11 0 3 0;
#X connect 11 0 7 0;
#X connect 11 0 9 0;
#X connect 11 0 10 0;
#X connect 12 0 0 0;
#X connect 12 0 5 0;
#X connect 12 0 8 0;
#X connect 12 0 6 0;
#X connect 12 0 10 1;
#X restore 31 97 pd mapping;
#X obj 31 28 adc~ 1;
#X connect 0 0 2 0;
#X connect 0 0 2 1;
#X connect 0 0 2 2;
#X connect 0 0 2 3;
#X connect 1 0 0 1;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 10 0 7 0;
